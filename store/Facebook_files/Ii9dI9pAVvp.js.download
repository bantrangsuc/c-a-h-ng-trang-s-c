;/*FB_PKG_DELIM*/

__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null||p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("messenger_web").info("[LS] SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null||p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function(a){if(a==null||a.data==null||(a.data!==k||e())&&a.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null||p.removeEventListener("message",g);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null||p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("BrowserLockManager")!=null?c("BrowserLockManager"):c("MessengerLocksManagerFallback")(c("pageID"));if(a){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(c){return a.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");c();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");c();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}())});var e=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(a.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:e.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("FBLogger")("ls_web_init").mustfixThrow("No lock manager inited")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("MAWReceiverFetchQPLLogger",["I64","MAWLoggerUtils","QPLUserFlow","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=60*1e3,k=c("qpl")._(973799425,"190"),l="error_message",m={PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",RECEIVER_FETCH_XMA_IN_VIEW:"receiver_fetch_xma_in_view"},n={ERROR_PARSING_XMA_DATACLASS_CONTENT:"error_parsing_xma_dataclass_content",EXISTING_ATTACHMENT_IS_NULL:"existing_attachment_is_null",EXISTING_MESSAGE_IS_NULL:"existing_message_is_null",RECEIVER_FECH_PARAMS_IS_NULL:"receiver_fech_params_is_null",RECEIVER_FETCH_TASK_FAILURE:"receiver_fetch_task_failure",TYPENAME_IS_NOT_XMA_SINGLE_CONTENT:"typename_is_not_xma_single_content",XMA_DATACLASS_IS_NULL:"xma_dataclass_is_null"};function o(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addPoint(k,b,{instanceKey:a})}function a(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addAnnotations(k,b,{instanceKey:a})}function b(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);if((i||(i=c("QuickPerformanceLogger"))).isMarkerOn(k,b))return;c("QPLUserFlow").start(k,{instanceKey:b,timeoutInMs:j});o(a,m.RECEIVER_FETCH_XMA_IN_VIEW)}function e(a){o(a,m.PREVIEW_FETCH_START)}function f(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);o(a,m.PREVIEW_FETCH_TASK_COMPLETED);c("QPLUserFlow").endSuccess(k,{instanceKey:b})}function p(a,b,e,f){b=n[b];a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").endFailure(k,b,{annotations:{"int":f!=null?{error_code:(h||(h=d("I64"))).to_int32(f)}:{},string:e!=null?(b={},b[l]=e,b):{}},instanceKey:a})}g.MARKER_POINTS=m;g.FAILURE_REASONS=n;g.logReceiverFetchPoint=o;g.logReceiverFetchAnnotation=a;g.logReceiverFetchXMAStartQPL=b;g.logPreviewFetchStart=e;g.logSuccess=f;g.logFailure=p}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerMentionsUtils","MWXIconGroup","gkx","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=h._(/*BTDS*/"Meta AI").toString();e=h._(/*BTDS*/"\u0110\u1eb7t c\u00e2u h\u1ecfi").toString();var m=h._(/*BTDS*/"m\u1ecdi ng\u01b0\u1eddi").toString(),n=c("gkx")("20836"),o={decorType:"regular",handle:l,key:"0",label:l,rawData:{image:i("405460"),subtitle:e},type:"entry"};function a(a,b,e,f,g,i,p,q){var r=a.query,s=q!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(q)&&d("LSMessagingThreadTypeUtil").isGroup(q);q=q!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(q)&&d("LSMessagingThreadTypeUtil").isGroup(q);q=q&&c("qex")._("1303")===!0;var t=[],u=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(l,r)&&t.push(o);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,e=a.blockedByViewerStatus,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;if(e!=null&&!(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)))return;e=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,r)?e="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,r)?e="name":g!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,r)&&(e="nickname");if(e!=null&&h!=null){var i=a;s?i=g!=null?g:b:i==null&&(i=a!=null?a:e==="nickname"?g!=null?g:b:b);t.push({decorType:"regular",handle:i,key:f+" "+e,label:b,rawData:{photoURI:h,source:e,subtitle:a!=null?a:g},type:"entry"})}});if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(m,r)&&(n||s||q)){g=h._(/*BTDS*/"Nh\u1eafc \u0111\u1ebfn m\u1ecdi ng\u01b0\u1eddi trong cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y").toString();u.push({decorType:"regular",handle:m,key:""+e,label:m,rawData:{icon:c("MWXIconGroup"),source:"all",subtitle:g},type:"entry"})}if(n){i=h._(/*BTDS*/"t\u1ea1i \u0111\u00e2y").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(i,r)){b=h._(/*BTDS*/"Nh\u1eafc \u0111\u1ebfn t\u1ea5t c\u1ea3 nh\u1eefng ng\u01b0\u1eddi \u0111ang ho\u1ea1t \u0111\u1ed9ng trong \u0111o\u1ea1n chat n\u00e0y").toString();u.push({decorType:"regular",handle:i,key:e+"-active",label:i,rawData:{icon:c("MWXIconGroup"),source:"all",subtitle:b},type:"entry"})}}}g=s||q?[].concat(t.slice(0,p),u):[].concat(t,u).slice(0,p);g.length<p&&f&&f(r,p-g.length);return{entries:g,params:a}}function b(a){switch(a){case l:return"ai";case m:return"t";default:return"p"}}g.aiBotMentionsEntry=o;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),226);
__d("MWXErrorBlock.react",["MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.align,f=a.error,g=a.level;a=a.showImage;e=e===void 0?"center":e;a=a===void 0?!0:a;var h=f.action,j=f.body,k=f.headline;f=f.image;var l;b[0]!==f||b[1]!==a?(l=a&&f!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXImage.react"),{src:f})}),b[0]=f,b[1]=a,b[2]=l):l=b[2];f=g?g:2;b[3]!==e||b[4]!==j||b[5]!==k||b[6]!==f?(a=i.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:i.jsx(c("MWXTextPairing.react"),{body:j,bodyColor:"secondary",headline:k,level:f,textAlign:e})}),b[3]=e,b[4]=j,b[5]=k,b[6]=f,b[7]=a):a=b[7];b[8]!==h?(g=h!=null&&i.jsx(c("MWXColumnItem.react"),{align:"stretch",paddingVertical:16,children:i.jsx(c("MWXColumnItem.react"),{paddingVertical:16,children:i.jsx(c("MWXButton.react"),{label:h.label,onPress:h.onPress,padding:"wide",size:36})})}),b[8]=h,b[9]=g):g=b[9];b[10]!==e||b[11]!==l||b[12]!==a||b[13]!==g?(j=i.jsxs(c("MWXColumn.react"),{align:e,spacing:12,children:[l,a,g]}),b[10]=e,b[11]=l,b[12]=a,b[13]=g,b[14]=j):j=b[14];return j}g["default"]=a}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:h(a)}}function h(a){c("ClientConsistencyEventEmitter").emit("softRefresh",a)}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh("restore_versionchange");return b}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("ReStoreDBCorruption",[],(function(a,b,c,d,e,f){"use strict";var g="Got unexpected undefined",h="ReStoreDBCorruption";a=function(a){function b(b){var c,d=g+", table: "+b;c=a.call(this,d)||this;c.message=d;c.name=h;c.tableName=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=h;f.ReStoreDBCorruption=a}),66);
__d("getMWErrorDefinition",["fbt","ix","FBLogger","MAWEncryptionErrorHandler","MAWSetupWorker","MAWUnrecoverableDbErrors","MWDeleteAllDBs","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReStoreDBCorruption","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARSetupFailure","cr:10030","gkx","isArmadillo","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=c("requireDeferred")("EBSMDBCleanupAPI").__setRef("getMWErrorDefinition");function a(a,e,g){g===void 0&&(g=!0);g=g?2:1;var l={action:{label:h._(/*BTDS*/"L\u00e0m m\u1edbi"),onPress:function(){window.location.reload(!0)}},autoRefresh:"never",body:h._(/*BTDS*/"H\u00e3y l\u00e0m m\u1edbi trang n\u00e0y \u0111\u1ec3 t\u1ea3i l\u1ea1i."),headline:h._(/*BTDS*/"_j{\"*\":\"Kh\\u00f4ng th\\u1ec3 t\\u1ea3i \\u0111o\\u1ea1n chat\"}",[h._plural(g)]),image:c("gkx")("23219")?e==="light"?i("210379"):i("210377"):i("433676")},m=a.messageFormat||"";if(!c("gkx")("8483")&&(a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure||a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)){var n={label:l.action.label,onPress:function(){c("promiseDone")(d("MAWSetupWorker").terminateWorker(a.name),function(){return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING("error")["finally"](l.action.onPress)})}};c("FBLogger")("messenger_web").info("Error %s: showing recovery UI",a.name);return c("isArmadillo")()?babelHelpers["extends"]({},l,{action:n,body:h._(/*BTDS*/"_j{\"*\":\"Kh\\u00f4ng th\\u1ec3 truy xu\\u1ea5t \\u0111o\\u1ea1n chat\"}",[h._plural(g)]),headline:h._(/*BTDS*/"C\u00f3 th\u1ec3 b\u1ea1n s\u1ebd kh\u00f4ng xem \u0111\u01b0\u1ee3c m\u1ed9t s\u1ed1 tin nh\u1eafn \u0111\u01b0\u1ee3c m\u00e3 h\u00f3a \u0111\u1ea7u cu\u1ed1i tr\u00ean thi\u1ebft b\u1ecb n\u00e0y. N\u1ebfu b\u1ea1n \u0111\u00e3 thi\u1ebft l\u1eadp b\u1ed9 nh\u1edb an to\u00e0n, h\u00e3y th\u1eed l\u00e0m m\u1edbi trang n\u00e0y \u0111\u1ec3 kh\u00f4i ph\u1ee5c c\u00e1c tin nh\u1eafn \u0111\u00f3.")}):babelHelpers["extends"]({},l,{action:n})}else if(a instanceof d("ReStoreDBCorruption").ReStoreDBCorruption||a.name===d("ReStoreDBCorruption").ERROR_NAME||m.includes(d("ReStoreDBCorruption").ERROR_NAME))return babelHelpers["extends"]({},l,{action:{label:l.action.label,onPress:b("cr:10030")!=null?function(){b("cr:10030").deleteIndexedDB("error")["finally"](l.action.onPress)}:l.action.onPress}});else if(a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange||a.name===d("ReStoreDbVersionChange").ERROR_NAME||m.includes(d("ReStoreDbVersionChange").ERROR_NAME))return babelHelpers["extends"]({},l,{autoRefresh:"background",body:h._(/*BTDS*/"_j{\"*\":\"\\u0110o\\u1ea1n chat c\\u1ee7a b\\u1ea1n \\u0111\\u00e3 c\\u0169.\"}",[h._plural(g)]),headline:h._(/*BTDS*/"_j{\"*\":\"L\\u00e0m m\\u1edbi \\u0111o\\u1ea1n chat\"}",[h._plural(g)]),image:c("gkx")("23219")?e==="light"?i("210437"):i("210435"):i("433676")});else if(d("MAWUnrecoverableDbErrors").isUnrecoverableDbError(a)){var o=a;return babelHelpers["extends"]({},l,{action:babelHelpers["extends"]({},l.action,{label:h._(/*BTDS*/"T\u1ea3i l\u1ea1i"),onPress:function(){if(o.name==="ear_init_error"){c("promiseDone")(d("MAWEncryptionErrorHandler").handleEARKeychainError().then(function(){return l.action.onPress()}));return}else if(o.name==="ebsm_hydration_error"){var a=o;(j||(j=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION_RELOAD,a.tableName);a=k.load().then(function(a){return a.cleanupStateTables()});c("promiseDone")(a.then(function(){(j||(j=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,"db_deleted_on_press"),l.action.onPress()}));return}c("promiseDone")(d("MAWSetupWorker").terminateWorker(o.name),function(){return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING("error").then(function(){return l.action.onPress()})})}}),body:h._(/*BTDS*/"_j{\"*\":\"H\\u00e3y t\\u1ea3i l\\u1ea1i trang n\\u00e0y \\u0111\\u1ec3 xem \\u0111o\\u1ea1n chat.\"}",[h._plural(g)])})}else return l}g["default"]=a}),226);
__d("MWErrorBlock.react",["FBLogger","LSPlatformLsInitLog","MWXErrorBlock.react","ODS","ReStoreDbVersionChange","getMWErrorDefinition","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["canTriggerAutoReload","error","plural","source"],i=["autoRefresh"],j,k,l=j||(j=d("react"));b=j;var m=b.useEffect;b.useMemo;function n(a){a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange?c("FBLogger")("messenger_web").info(a.toString()):c("FBLogger")("messenger_web").catching(a).mustfix("Uncaught Error while loading chat: %s",a.toString())}function a(a){var b=d("react-compiler-runtime").c(35),e,f,g,j,o;b[0]!==a?(e=a.canTriggerAutoReload,f=a.error,j=a.plural,o=a.source,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=o):(e=b[1],f=b[2],g=b[3],j=b[4],o=b[5]);a=c("useCurrentDisplayMode")();var p;b[6]!==f||b[7]!==j||b[8]!==a?(p=c("getMWErrorDefinition")(f,a,j),b[6]=f,b[7]=j,b[8]=a,b[9]=p):p=b[9];j=p;var q,r;if(b[10]!==j){a=j;q=a.autoRefresh;r=babelHelpers.objectWithoutPropertiesLoose(a,i);b[10]=j;b[11]=q;b[12]=r}else q=b[11],r=b[12];b[13]!==f?(p=function(){d("LSPlatformLsInitLog").addAnnotations({string:{uncaught_error:f.name}}),d("LSPlatformLsInitLog").fail("uncaught_error"),n(f)},a=[f],b[13]=f,b[14]=p,b[15]=a):(p=b[14],a=b[15]);m(p,a);b[16]!==q||b[17]!==e||b[18]!==f.message?(j=function(){e===!0&&q==="background"&&document.visibilityState==="hidden"&&(c("FBLogger")("messenger_web").info("Auto refresh triggered for error: %s",f.message),window.location.reload(!0))},b[16]=q,b[17]=e,b[18]=f.message,b[19]=j):j=b[19];b[20]!==q||b[21]!==e||b[22]!==f?(p=[q,e,f],b[20]=q,b[21]=e,b[22]=f,b[23]=p):p=b[23];m(j,p);b[24]!==f.name||b[25]!==o?(a=function(){(k||(k=d("ODS"))).bumpEntityKey(3303,"mw_error_block",o+"."+f.name)},j=[f.name,o],b[24]=f.name,b[25]=o,b[26]=a,b[27]=j):(a=b[26],j=b[27]);m(a,j);b[28]!==f.name||b[29]!==r||b[30]!==o?(p=r.action!=null?babelHelpers["extends"]({},r,{action:babelHelpers["extends"]({},r.action,{onPress:function(){var a;(k||(k=d("ODS"))).bumpEntityKey(3303,"mw_error_block",o+"."+f.name+".action");(a=r.action)==null||a.onPress()}})}):r,b[28]=f.name,b[29]=r,b[30]=o,b[31]=p):p=b[31];a=p;j=a;b[32]!==g||b[33]!==j?(p=l.jsx(c("MWXErrorBlock.react"),babelHelpers["extends"]({},g,{error:j})),b[32]=g,b[33]=j,b[34]=p):p=b[34];return p}g["default"]=a}),98);
__d("MWInboxErrorState.react",["CometHeroFailTrigger.react","MWErrorBlock.react","MWXColumn.react","MWXColumnItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={mdsRoot:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x1dr59a3",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.canTriggerAutoReload,f=a.error,g=a.plural,h=a.source;a=a.xstyle;var k;b[0]!==a?(k=[c("gkx")("23219")&&j.mdsRoot,a],b[0]=a,b[1]=k):k=b[1];b[2]!==f?(a=i.jsx(c("CometHeroFailTrigger.react"),{description:"Inbox load failed",error:f,fail:!0}),b[2]=f,b[3]=a):a=b[3];var l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"xxc7z9f"},b[4]=l):l=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h?(l=i.jsx("div",babelHelpers["extends"]({},l,{role:"main",children:i.jsx(c("MWErrorBlock.react"),{canTriggerAutoReload:e,error:f,plural:g,source:h})})),b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=l):l=b[9];b[10]!==a||b[11]!==l?(e=i.jsxs(c("MWXColumnItem.react"),{children:[a,l]}),b[10]=a,b[11]=l,b[12]=e):e=b[12];b[13]!==k||b[14]!==e?(f=i.jsx(c("MWXColumn.react"),{paddingHorizontal:16,verticalAlign:"center",xstyle:k,children:e}),b[13]=k,b[14]=e,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("MWMessageRequestSharedTexts.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._(/*BTDS*/"N\u1ebfu b\u1ea1n tr\u1ea3 l\u1eddi, {FBFullName} c\u0169ng s\u1ebd c\u00f3 th\u1ec3 g\u1ecdi cho b\u1ea1n, xem c\u00e1c th\u00f4ng tin nh\u01b0 Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng v\u00e0 th\u1eddi \u0111i\u1ec3m b\u1ea1n \u0111\u1ecdc tin nh\u1eafn.",[h._param("FBFullName",a)])}function b(a){return h._(/*BTDS*/"N\u1ebfu b\u1ea1n tr\u1ea3 l\u1eddi, {FBFullName} s\u1ebd c\u00f3 th\u1ec3 nh\u1eafn tin v\u00e0 g\u1ecdi \u0111i\u1ec7n cho b\u1ea1n.",[h._param("FBFullName",a)])}function c(a){return h._(/*BTDS*/"T\u00f4i kh\u00f4ng mu\u1ed1n nh\u1eadn tin nh\u1eafn c\u1ee7a {name}",[h._param("name",a)])}function d(a){return h._(/*BTDS*/"B\u1ea1n c\u00f3 th\u1ec3 x\u00f3a v\u0129nh vi\u1ec5n cu\u1ed9c tr\u00f2 chuy\u1ec7n ho\u1eb7c ch\u1eb7n kh\u00f4ng cho {FBShortName} nh\u1eafn tin\/g\u1ecdi \u0111i\u1ec7n cho b\u1ea1n. Ch\u00fang t\u00f4i s\u1ebd kh\u00f4ng ti\u1ebft l\u1ed9 v\u1edbi h\u1ecd r\u1eb1ng b\u1ea1n \u0111\u00e3 l\u00e0m nh\u1eefng vi\u1ec7c n\u00e0y.",[h._param("FBShortName",a)])}function e(){return h._(/*BTDS*/"B\u1ea1n c\u00f3 th\u1ec3 m\u1edf tin nh\u1eafn \u0111ang ch\u1edd \u0111\u1ec3 bi\u1ebft th\u00eam th\u00f4ng tin v\u1ec1 ng\u01b0\u1eddi g\u1eedi. H\u1ecd s\u1ebd kh\u00f4ng bi\u1ebft l\u00e0 b\u1ea1n \u0111\u00e3 m\u1edf tin nh\u1eafn.")}function f(){return h._(/*BTDS*/"Tin nh\u1eafn \u0111ang ch\u1edd")}g.getFBUserInfoTextMessage=a;g.getFBUserInfoTextMessageForMSplit=b;g.getDefaultInfoTextFooter=c;g.getDeclineUserDialogText=d;g.getMessageRequestHeaderInfoText=e;g.getMessageRequestHeaderTitleText=f}),226);
__d("MWThreadLiveLocationSessionsSetterContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));e=b.createContext;var j=b.useContext,k=e({addOrUpdateSession:c("emptyFunction")});function a(){return j(k)}g.MAWThreadLiveLocationSessionsSetterContext=k;g.useThreadMAWLiveLocationSessionsSetterContext=a}),98);
__d("MWThreadLiveLocationSessionsStateContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));e=b.createContext;var j=b.useContext,k=e({sessions:{}});function a(){return j(k)}g.MAWThreadLiveLocationSessionsStateContext=k;g.useThreadMAWLiveLocationSessionsStateContext=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.apply(this,arguments)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,k(a,e),c)||this;a.__contactID=h(d);a.__prefix=e;return a}babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:l(b.__text,b.__prefix)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:l(this.__text,this.__prefix),type:"actor"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv x3jgonx";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(l(this.__text,this.__prefix))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}function k(a,b){return a.startsWith(b)?a:""+b+a}function l(a,b){return a.startsWith(b)?a.slice(b.length):a}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","asyncToGeneratorRuntime","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("relay-runtime").Observable.create(function(f){var g=e(a),i=function(a){if(f.closed)return;f.next(a)},j,k=[],l=g.subscribe(function(a,b){k.push([a,b])}),m=a.subscribeToCommit(function(){if(f.closed)return;if(j!=null&&k.length>0){var a=j;c("applyChangesToBPlusTree")(a,k)&&i(Array.from(a.entries()))}}),n=g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)),o=[];c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(!f.closed){var a=n.next();(h||(h=c("isPromise")))(a)&&(a=(yield a));if(a.done)break;o.push(a.value)}if(f.closed)return;a=j=c("createBPlusTreeFromSorted")(o,g.direction);i(c("applyChangesToBPlusTree")(a,k)?Array.from(a.entries()):o)})());return function(){l(),m()}})}g.create=a}),98);
__d("combineLatestWith",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d("relay-runtime").Observable.create(function(a){var c=new Set(b),d=new Set(b),e=b.map(function(){return void 0}),f=b.map(function(b,f){return b.subscribe({complete:function(){d["delete"](b),d.size===0&&a.complete()},error:a.error,next:function(d){e[f]=d,c["delete"](b),c.size===0&&a.next(e)}})});return function(){f.forEach(function(a){return a.unsubscribe()})}})}g["default"]=a}),98);
__d("useHasGroupLimitBeenReachedForThread",["I64","Int64Hooks","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWGroupLimitConfig","MWXacGating","ReQL","ReQLSuspense","isMWXacGroupThread","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=d("react-compiler-runtime").c(18),g;e[0]!==b?(g=b===void 0?[]:b,e[0]=b,e[1]=g):g=e[1];var k=g,l=(i||(i=c("useReStore")))();e[2]!==l.tables.threads||e[3]!==a?(b=function(){return d("ReQL").fromTableAscending(l.tables.threads,["memberCount","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(a)},e[2]=l.tables.threads,e[3]=a,e[4]=b):b=e[4];e[5]!==l||e[6]!==a?(g=[l,a],e[5]=l,e[6]=a,e[7]=g):g=e[7];var m=d("ReQLSuspense").useFirst(b,g,f.id+":31");b=(m==null?void 0:m.memberCount)!=null?(h||(h=d("I64"))).to_int32(m.memberCount):0;b=b+((g=k==null?void 0:k.length)!=null?g:0);var n;e[8]!==k||e[9]!==m?(g=function(){var a=(k!=null?k:[]).some(j);if(m==null)return!1;return d("MWXacGating").isGroupsEnabled()?c("isMWXacGroupThread")({capabilities:m.capabilities,capabilities2:m.capabilities2,capabilities3:m.capabilities3,capabilities4:m.capabilities4,capabilities5:m.capabilities5,threadType:m.threadType})||a:!1},n=[m,k],e[8]=k,e[9]=m,e[10]=g,e[11]=n):(g=e[10],n=e[11]);g=d("Int64Hooks").useMemoInt64(g,n);if(m==null){e[12]===Symbol["for"]("react.memo_cache_sentinel")?(n=[!1,!1],e[12]=n):n=e[12];return n}n=g?b>=d("MWGroupLimitConfig").gxac:d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType)?b>=d("MWGroupLimitConfig").armadillo():b>=d("MWGroupLimitConfig").nonGxac;e[13]!==b?(g=d("MWXacGating").isGroupsEnabled()&&b>=d("MWGroupLimitConfig").gxac,e[13]=b,e[14]=g):g=e[14];b=g;e[15]!==n||e[16]!==b?(g=[n,b],e[15]=n,e[16]=b,e[17]=g):g=e[17];return g}function j(a){return a.isInstagramAccount}g["default"]=a}),98);
__d("useMAWPDeleteMessageForMe",["MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWJobDefinitions","MAWTimedJob","MessengerWebUXLogger","Promise","QPLUserFlow","Random","WAJobOrchestratorTypes","WebUserFlowLoggingDataContextProvider.react","gkx","promiseDone","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext;e.useMemo;function a(){var a=d("react-compiler-runtime").c(3),e=j(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),f=e.loggingDataRef,g=c("MessengerWebUXLogger").useInteractionLogger();a[0]!==g||a[1]!==f?(e=function(a,d){var e=[];d!=null?e.push.apply(e,d.messagesAndAttachments.map(k)):e.push(a);c("promiseDone")((h||(h=b("Promise"))).allSettled([e.map(function(a){return l(a,f,g)})]))},a[0]=g,a[1]=f,a[2]=e):e=a[2];a=e;return a}function k(a){return a.message}function l(a,b,e){var f=c("qpl")._(25308285,"2002"),g=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(f,{annotations:{string:{isEphemeralMessage:a.ephemeralDurationInSec!=null||a.ephemeralExpirationTs!=null?"true":"false",type:"secureDeleteMessageForMe"}},instanceKey:g});a=d("MAWDbMsg").toMsgId(a.messageId);if(a==null){c("QPLUserFlow").endFailure(f,"missing_msg_id",{instanceKey:g});return}return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a).then(function(a){if(a==null){e==null||e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_failure",eventType:"backend",extraData:babelHelpers["extends"]({},b.current.extraData,{error:"missing_msg_id"})}));c("QPLUserFlow").endFailure(f,"missing_protocolMsgId",{instanceKey:g});return}var h;c("gkx")("1800")?h=d("MAWBridgeSendAndReceive").sendAndReceive("backend","deleteMsgsForMe",{msgIds:[a]}):h=d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.deleteMsgsForMe([a],{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}));return h.then(function(){e==null||e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_success",eventType:"backend"})),c("QPLUserFlow").endSuccess(f,{instanceKey:g})})})}g["default"]=a}),98);
__d("useObservable",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(7),c=j(),e=c[0],f=c[1];c=j();var g=c[0],h=c[1];c=j(!1);var k=c[0],l=c[1],m;b[0]!==a?(c=function(){var b=a.subscribe({complete:function(){return l(!0)},error:h,next:f});return function(){return b.unsubscribe()}},m=[a],b[0]=a,b[1]=c,b[2]=m):(c=b[1],m=b[2]);i(c,m);b[3]!==g||b[4]!==k||b[5]!==e?(c=[e,g,k],b[3]=g,b[4]=k,b[5]=e,b[6]=c):c=b[6];return c}g["default"]=a}),98);