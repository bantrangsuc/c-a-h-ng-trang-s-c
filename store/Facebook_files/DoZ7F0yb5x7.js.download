;/*FB_PKG_DELIM*/

__d("LSDeleteAllChannelsInCommunity",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(c){return b.i64.eq(c.parentThreadKey,a[0])&&[b.i64.cast([0,17]),b.i64.cast([0,18]),b.i64.cast([0,19]),b.i64.cast([0,20]),b.i64.cast([0,21]),b.i64.cast([0,22]),b.i64.cast([0,23]),b.i64.cast([0,24]),b.i64.cast([0,25]),b.i64.cast([0,26]),b.i64.cast([0,27]),b.i64.cast([0,28])].some(function(a){return b.i64.eq(c.threadType,a)})}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllChannelsInCommunityStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSDeleteCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(166).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteCommunityChannel",["LSDeleteThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.db.table(167).fetch([[[a[0]]],"threadIdCommunityId"]),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSDeleteThread"),a[0],!1)}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteCommunityChannelStoredProcedure";a.__tables__=["cm_channel_list"];e.exports=a}),null);
__d("LSDeleteCommunityIdentifier",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxDeleteCommunityIdentifierStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeleteCommunityFolder",["LSDeleteAllChannelsInCommunity","LSDeleteCommunityIdentifier","LSDeleteThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(162).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,c.sequence([function(a){return d[0]=e.folderId,c.forEach(c.db.table(162).fetch([[[d[0]]]]),function(a){return a["delete"]()})},function(a){return c.storedProcedure(b("LSDeleteThread"),d[0],!1)},function(a){return c.storedProcedure(b("LSDeleteCommunityIdentifier"),d[0])},function(a){return c.storedProcedure(b("LSDeleteAllChannelsInCommunity"),d[0])}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxDeleteCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);