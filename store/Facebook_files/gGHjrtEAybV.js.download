;/*FB_PKG_DELIM*/

__d("CometLinkSharingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={getWrappedShareUrlID:function(a){return null},shareSheetSurface:null,wrappedShareUrl:""};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometLinkSharingUtil",["$InternalEnum","gkx","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h="facebook.com/l.php?u=",i="https://twitter.com/intent/tweet",j="url",k="https://wa.me",l="text";a="^http(s)?:\\/\\/www\\.(|.*\\.)facebook\\.com\\/share\\/(?:[a-z]/)?\\w+\\/?$";var m=new RegExp(a);d=3;e=1;f="hasSeenLinkSharingDisclosureDialog";var n=b("$InternalEnum").Mirrored(["USS_INLINE_DISCLOSURE","BCF_UFI_INLINE_DISCLOSURE","FOURTH_UFI_BOTTOM_SHEET_DISCLOSURE"]);a=function(a){var b=null,c=null;switch(a){case"REELS_VIEWER":b="FB_SHORTS";c="REELS";break;case"PAGE":case"PAGE_TIMELINE":b="PAGE";c="PROFILE";break;case"NEWSFEED":case"TIMELINE":b="FEED";c="NEWSFEED";break;case"GROUP":case"GROUP_PERMALINK":b="FB_GROUPS";c="GROUPS";break;case"MARKETPLACE_MEGAMALL":b="MARKETPLACE";c="MARKETPLACE";break;case"EVENT":case"EVENT_PERMALINK":b="FEED";c="EVENTS";break;case"VIDEO_HOME_FEED":case"VIDEO_PERMALINK":b="FB_WATCH";c="WATCH";break;case"GOODWILL_THROWBACK_PERMALINK":b="FEED";c="MEMORIES";break;case"GAME_HUB_FEED":b="FEED";c="GAMES";break;default:b="UNKNOWN_FROM_DEEP_LINK",c="REELS"}return{productType:b,shareSheetSurface:c}};b=function(a){var b=new URL(i);b.searchParams.append(j,a);return b.toString()};var o=function(a){if(c("isStringNullOrEmpty")(a))return!1;if(a.includes(h)){var b;b=(b=new URL(a).searchParams.get("u"))!=null?b:a}else b=a;a=new URL(b).host;return a.includes("facebook.com")||a.includes("fb.")},p=c("gkx")("3421"),q=c("gkx")("3421"),r=c("gkx")("3421"),s=function(a){return a===n.USS_INLINE_DISCLOSURE||a===n.BCF_UFI_INLINE_DISCLOSURE},t=function(a,b){if(a==null)return null;if(b!=="three_dot_menu_copy_link"&&!q)return null;b=a;if(a.startsWith(k)){var c;b=(c=new URL(a).searchParams.get(l))!=null?c:""}if(a.startsWith(i)){b=(c=new URL(a).searchParams.get(j))!=null?c:""}return!o(b)?null:m.test(b)};g.INLINE_DISCLOSURE_IMPRESSION_COUNT_MAX=d;g.DIALOG_DISCLOSURE_IMPRESSION_COUNT_MAX=e;g.DIALOG_DISCLOSURE_STORAGE_KEY=f;g.LinkSharingDisclosureEntryPointEnum=n;g.getProductTypeAndSurfaceByFeedLocation=a;g.getTwitterShareURL=b;g.isEligibleLinkForLinkSharing=o;g.ENABLE_LINK_SHARING_ON_4TH_UFI=p;g.ENABLE_LINK_SHARING_ON_USS=q;g.ENABLE_LINK_SHARING_ON_BCF=r;g.isInlineDisclosure=s;g.isLinkSharingUrlUsed=t}),98);
__d("CometMessengerReshareContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={LSResults:[],addSelectedTarget:function(a){},addSelectedThreadData:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},removeSelectedTargetID:function(a){},selectedContacts:new Map(),selectedTargets:new Map(),setXMADataPromise:function(a){}};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometUFIAdaptiveWhatsAppActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIAdaptiveWhatsAppActionRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable_from_perspective_of_feed_ufi",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"external_share_url",storageKey:null},{alias:null,args:null,concreteType:"LinkSharingDisclosureImpressionCount",kind:"LinkedField",name:"ls_disclosure_impression_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bottom_sheet",storageKey:null}],storageKey:null}],type:"XFBUFIAdaptiveWhatsAppActionRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometUFILinkSharingDisclosureDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23872774335642324"}),null);
__d("CometUFILinkSharingDisclosureDialogQuery$Parameters",["CometUFILinkSharingDisclosureDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFILinkSharingDisclosureDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFILinkSharingDisclosureDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFILinkSharingDisclosureDialog.entrypoint",["CometUFILinkSharingDisclosureDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{disclosureDialogQueryRef:{parameters:c("CometUFILinkSharingDisclosureDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFILinkSharingDisclosureDialog.react").__setRef("CometUFILinkSharingDisclosureDialog.entrypoint")};g["default"]=a}),98);
__d("useLinkSharingCreateWrappedUrlMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30568280579452205"}),null);
__d("useLinkSharingCreateWrappedUrlMutation.graphql",["useLinkSharingCreateWrappedUrlMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBCreateShareUrlWrapperResponsePayload",kind:"LinkedField",name:"xfb_create_share_url_wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBShareURLWrapper",kind:"LinkedField",name:"share_url_wrapper",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_content_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wrapped_url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLinkSharingCreateWrappedUrlMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLinkSharingCreateWrappedUrlMutation",selections:c},params:{id:b("useLinkSharingCreateWrappedUrlMutation_facebookRelayOperation"),metadata:{},name:"useLinkSharingCreateWrappedUrlMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useLinkSharingCreateWrappedUrlMutation",["RelayHooks","react","react-compiler-runtime","useLinkSharingCreateWrappedUrlMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=h!==void 0?h:h=b("useLinkSharingCreateWrappedUrlMutation.graphql");function a(){var a=d("react-compiler-runtime").c(2),b=d("RelayHooks").useMutation(j),c=b[0];a[0]!==c?(b=function(a){var b=a.onCompleted,d=a.onError,e=a.originalContentUrl;a=a.productType;return c({onCompleted:b,onError:d,variables:{input:{original_content_url:e,product_type:a}}})},a[0]=c,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useLinkSharingGetWrappedUrlPushToast",["fbt","FDSProgressRingIndeterminate.react","cometPushToast","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCurrentDisplayMode")(),f;b[0]!==e||b[1]!==a?(f=function(){return d("cometPushToast").cometPushToast({icon:j.jsx(c("FDSProgressRingIndeterminate.react"),{color:e==="light"?"light":"dark",size:16}),message:h._(/*BTDS*/"\u0110ang chu\u1ea9n b\u1ecb li\u00ean k\u1ebft...")},void 0,a)},b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("CometUFIAdaptiveWhatsAppActionRenderer.react",["fbt","ix","CometAdaptiveUFIGating","CometExternalShareTracking","CometLinkSharingUtil","CometPressable.react","CometRelay","CometRow.react","CometRowItem.react","CometUFIActionsUtils","CometUFIAdaptiveWhatsAppActionRenderer_renderer.graphql","CometUFILinkSharingDisclosureDialog.entrypoint","FDSIcon.react","FDSText.react","TintableIconSource","WebStorage","cr:8265","goUriOnNewWindow","justknobx","react","react-compiler-runtime","useCometEntryPointDialog","useLinkSharingCreateWrappedUrlMutation","useLinkSharingGetWrappedUrlPushToast","useToasterStateManager","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;e.useMemo;var n=e.useRef,o=d("CometAdaptiveUFIGating").getWrappedUrlMaxDelayMS(),p={labelContainer:{height:"xn3w4p2",whiteSpace:"xuxw1ft",$$css:!0}};function a(a){var e,f,g,l,q=d("react-compiler-runtime").c(54),r=a.color,s=a.feedLocation,t=a.renderer,u=a.textType;a=a.xstyle;u=u===void 0?"bodyLink3":u;t=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIAdaptiveWhatsAppActionRenderer_renderer.graphql"),t);var v=t==null?void 0:t.story,w=(e=(e=v==null||(f=v.shareable_from_perspective_of_feed_ufi)==null?void 0:f.url)!=null?e:v==null?void 0:v.url)!=null?e:"";if(q[0]!==(t==null?void 0:t.external_share_url)||q[1]!==w){e=(e=(e=t==null?void 0:t.external_share_url)!=null?e:d("CometExternalShareTracking").getWhatsAppShareURL(w))!=null?e:"";q[0]=t==null?void 0:t.external_share_url;q[1]=w;q[2]=e}else e=q[2];var x=e;e=c("justknobx")._("4120");var y=!e&&d("CometLinkSharingUtil").ENABLE_LINK_SHARING_ON_4TH_UFI&&((e=t==null||(g=t.ls_disclosure_impression_count)==null?void 0:g.bottom_sheet)!=null?e:0)<d("CometLinkSharingUtil").DIALOG_DISCLOSURE_IMPRESSION_COUNT_MAX&&((e=t==null||(l=t.ls_disclosure_impression_count)==null?void 0:l.inline)!=null?e:0)<d("CometLinkSharingUtil").INLINE_DISCLOSURE_IMPRESSION_COUNT_MAX&&((t=(k||(k=c("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(d("CometLinkSharingUtil").DIALOG_DISCLOSURE_STORAGE_KEY))!=="true",z=n(""),A=n(null);e=c("useUnifiedShareSheetLogger")();var B=e.onShareOptionSelected,C=c("useLinkSharingCreateWrappedUrlMutation")();q[3]!==s?(t=d("CometLinkSharingUtil").getProductTypeAndSurfaceByFeedLocation(s),q[3]=s,q[4]=t):t=q[4];e=t;var D=e.productType,E=e.shareSheetSurface,F=b("cr:8265")();q[5]===Symbol["for"]("react.memo_cache_sentinel")?(t={},q[5]=t):t=q[5];e=c("useCometEntryPointDialog")(c("CometUFILinkSharingDisclosureDialog.entrypoint"),t);var G=e[0],H=c("useToasterStateManager")(),I=c("useLinkSharingGetWrappedUrlPushToast")(H);v==null||v.post_id;t=v==null?void 0:v.post_id;q[6]!==s||q[7]!==t?(e={entry_point:s,shareable_entity_fbid:t,sharing_action_audience:"private",sharing_action_destination:"whatsapp",sharing_component_name:"ufi_whatsapp_button"},q[6]=s,q[7]=t,q[8]=e):e=q[8];t=e;var J=t;q[9]!==J||q[10]!==B?(e=function(a){B(babelHelpers["extends"]({},J,{is_link_sharing_url_used:d("CometLinkSharingUtil").isLinkSharingUrlUsed(a)})),c("goUriOnNewWindow")(a)},q[9]=J,q[10]=B,q[11]=e):e=q[11];var K=e;q[12]!==K||q[13]!==x?(t=function(a){window.clearTimeout(A.current);a=(a=a.xfb_create_share_url_wrapper)==null?void 0:a.share_url_wrapper;a=d("CometExternalShareTracking").getWhatsAppShareURL(a==null?void 0:a.wrapped_url);a!=null&&(z.current=a);A.current&&K(a!=null?a:x)},q[12]=K,q[13]=x,q[14]=t):t=q[14];var L=t;q[15]!==C||q[16]!==K||q[17]!==I||q[18]!==L||q[19]!==w||q[20]!==x||q[21]!==D||q[22]!==H?(e=function(){if(!d("CometLinkSharingUtil").ENABLE_LINK_SHARING_ON_4TH_UFI||z.current!==""){var a=z.current===""?x:z.current;K(a);return}var b=I();C({onCompleted:function(a){H["delete"](b),L(a)},originalContentUrl:w,productType:D});A.current=window.setTimeout(function(){H["delete"](b),K(z.current===""?x:z.current),A.current=null},o);return function(){window.clearTimeout(A.current)}},q[15]=C,q[16]=K,q[17]=I,q[18]=L,q[19]=w,q[20]=x,q[21]=D,q[22]=H,q[23]=e):e=q[23];var M=e;if(v==null||x==null)return null;t=r!=null?r:"secondary";e=r!=null?r:"secondary";q[24]!==C||q[25]!==K||q[26]!==L||q[27]!==M||q[28]!==w||q[29]!==x||q[30]!==D||q[31]!==E||q[32]!==y||q[33]!==G||q[34]!==(v==null?void 0:v.post_id)||q[35]!==F?(r=function(){z.current!==""&&F&&z.current.includes("/share/")&&F({loggingMetrics:{},shareSheetSurface:E,wrappedUrl:z.current});if(y){var a;C({onCompleted:L,originalContentUrl:w,productType:D});G({shareableID:(a=v==null?void 0:v.post_id)!=null?a:""},function(){K(z.current===""?x:z.current)});(k||(k=c("WebStorage"))).setItemGuarded(k.getLocalStorage(),d("CometLinkSharingUtil").DIALOG_DISCLOSURE_STORAGE_KEY,"true")}else M()},q[24]=C,q[25]=K,q[26]=L,q[27]=M,q[28]=w,q[29]=x,q[30]=D,q[31]=E,q[32]=y,q[33]=G,q[34]=v==null?void 0:v.post_id,q[35]=F,q[36]=r):r=q[36];var N;q[37]!==a?(N=[p.labelContainer,a],q[37]=a,q[38]=N):N=q[38];q[39]===Symbol["for"]("react.memo_cache_sentinel")?(a=new(c("TintableIconSource"))("FB",i("389937"),20),q[39]=a):a=q[39];var O;q[40]!==e||q[41]!==a?(O=m.jsx(c("CometRowItem.react"),{children:m.jsx(c("FDSIcon.react"),{color:e,icon:a})}),q[40]=e,q[41]=a,q[42]=O):O=q[42];q[43]!==s||q[44]!==t||q[45]!==u?(e=d("CometUFIActionsUtils").isFeedLocationNarrow(s)?null:m.jsx(c("CometRowItem.react"),{children:m.jsx(c("FDSText.react"),{color:t,type:u,children:h._(/*BTDS*/"G\u1eedi")})}),q[43]=s,q[44]=t,q[45]=u,q[46]=e):e=q[46];q[47]!==N||q[48]!==O||q[49]!==e?(a=m.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:N,children:[O,e]}),q[47]=N,q[48]=O,q[49]=e,q[50]=a):a=q[50];q[51]!==r||q[52]!==a?(s=m.jsx(c("CometPressable.react"),{onPress:r,overlayRadius:4,preventContextMenu:!0,testid:void 0,children:a}),q[51]=r,q[52]=a,q[53]=s):s=q[53];return s}g["default"]=a}),226);
__d("CometUFIAdaptiveWhatsAppActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometUFIAdaptiveWhatsAppActionRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},a,b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable_from_perspective_of_feed_ufi",plural:!1,selections:[b,a,{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"external_share_url",storageKey:null},{alias:null,args:null,concreteType:"LinkSharingDisclosureImpressionCount",kind:"LinkedField",name:"ls_disclosure_impression_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bottom_sheet",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometUnifiedShareSheetGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24315")}function b(){return c("gkx")("24317")}function d(){return c("gkx")("8866")}g.shouldEnableE2EEDebugIndicator=a;g.shouldDisableMessengerListRanking=b;g.shouldEnablePSLoggingIntentFixes=d}),98);
__d("MAWShareAttachmentDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWShareAttachment").__setRef("MAWShareAttachmentDeferred");b=a;g["default"]=b}),98);
__d("UnifiedShareSheetMultiSelectionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={AddSeletectTarget:function(a){},RemoveSelectedTarget:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},selectedContacts:new Map(),selectedTargets:new Map()};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("UnifiedShareSheetSharingOptionsItemButton.react",["CometColumn.react","CometColumnItem.react","CometLinkSharingContext","CometPlaceholder.react","CometPressable.react","FDSSkittleIcon.react","FDSText.react","UnifiedShareSheetHScrollTilesItemPlaceholder.react","cr:8265","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["icon","onPress","text"],i,j=i||(i=d("react")),k=i.useContext,l={button:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xnfxvih",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",width:"x19v3vle",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(22),f,g,i,m;e[0]!==a?(f=a.icon,g=a.onPress,m=a.text,i=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=m):(f=e[1],g=e[2],i=e[3],m=e[4]);a=k(c("CometLinkSharingContext"));var n=a.shareSheetSurface,o=a.wrappedShareUrl,p=b("cr:8265")();e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("UnifiedShareSheetHScrollTilesItemPlaceholder.react"),{}),e[5]=a):a=e[5];var q;e[6]!==g||e[7]!==n||e[8]!==p||e[9]!==o?(q=function(){g(),p&&o.includes("/share/")&&p({loggingMetrics:{off_platform_sharing:{entry_point:"AGNOSTIC_UNIFIED_SHARE_SHEET_ENTRYPOINT"}},shareSheetSurface:n,wrappedUrl:o})},e[6]=g,e[7]=n,e[8]=p,e[9]=o,e[10]=q):q=e[10];var r;e[11]!==f?(r=j.jsx(c("CometColumnItem.react"),{align:"center",children:j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:f,size:60})}),e[11]=f,e[12]=r):r=e[12];e[13]!==m?(f=j.jsx(c("CometColumnItem.react"),{align:"center",children:j.jsx(c("FDSText.react"),{align:"center",numberOfLines:2,type:"body4",children:m})}),e[13]=m,e[14]=f):f=e[14];e[15]!==r||e[16]!==f?(m=j.jsxs(c("CometColumn.react"),{expanding:!0,paddingVertical:8,spacing:12,children:[r,f]}),e[15]=r,e[16]=f,e[17]=m):m=e[17];e[18]!==i||e[19]!==q||e[20]!==m?(r=j.jsx(c("CometPlaceholder.react"),{fallback:a,children:j.jsx(c("CometPressable.react"),babelHelpers["extends"]({onPress:q,xstyle:l.button},i,{children:m}))}),e[18]=i,e[19]=q,e[20]=m,e[21]=r):r=e[21];return r}g["default"]=a}),98);
__d("useMWSendAttachment",["$InternalEnum","CometMessengerReshareContext","CometRelay","FBLogger","JSResourceForInteraction","LSDatabaseSingleton","LSMessagingThreadAttributionType","MAWMIC","MAWStateContext.react","MAWVerifyThreadCutoverDeferred","MWLSLogSend","MWVersion","MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred","UnifiedShareSheetMultiSelectionContext","WAResultOrError","asyncToGeneratorRuntime","cr:19817","isThreadLevelCutoverEnabled","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageWithXMAAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useCallback,k=f.useContext,l=b("$InternalEnum").Mirrored(["USS_H_SCROLL","BCF"]);function m(){if(c("qex")._("564")===!0)return!0;else return c("qex")._("121")===!0}var n=c("JSResourceForInteraction")("LSShareAttachment").__setRef("useMWSendAttachment");function a(){var a=d("CometRelay").useRelayEnvironment(),e=d("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),f=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),g=k(c("UnifiedShareSheetMultiSelectionContext")),h=g.getXMAFileArgsPromise;g=g.getXMAPreviewPromise;var o=k(c("CometMessengerReshareContext")),p=o.getXMAFileArgsPromise;o=o.getXMAPreviewPromise;var q=(g=(g=g())!=null?g:o())!=null?g:null,r=(g=(o=h())!=null?o:p())!=null?g:null;return j(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(g){var h=g.attachment,j=g.contactWithCapabilityPromises,k=g.lssTraceApi,o=g.offlineMsgId,p=g.reshareTarget,s=g.s2sInstanceKey,t=g.sharingComponent,u=g.source,v=g.thread,w=g.xmaDataPromise,x=g.xmaDataProps;g=g.xmaMsgExternalId;var y=m(),z=y||c("isThreadLevelCutoverEnabled")();d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_start");var A=(yield c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").load());d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_end");var B=d("MAWMIC").duringMIC();d("sendToSentQPLLogger").addSendToSentAnnotations(s,{bool:{during_mic:B}});d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_start");B=(yield A(p,(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,a,"sendAttachment",s,j));d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_end");A=B.targetID!==h.targetID?babelHelpers["extends"]({},h,{targetID:B.targetID}):h;d("MWLSLogSend").logSentHeroInteraction(k,o,{isMessageRequest:!1,mwVersion:d("MWVersion").v2,source:u!=null?u:c("LSMessagingThreadAttributionType").UNKNOWN,threadType:v==null?void 0:v.threadType});d("sendToSentQPLLogger").markSendToSentPoint(s,"offline_msg_id_generated");k.addMarkerPoint("offline_msg_id_generated","AppTiming");h=(j=B.isTargetE2E)!=null?j:y;v=!1;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_start");k.addMarkerPoint("verify_thread_cutover_start","AppTiming");if(c("MAWVerifyThreadCutoverDeferred")!=null){d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_start");j=(yield c("MAWVerifyThreadCutoverDeferred").load());y=j.verifyThreadCutoverWithStringInput;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_end");v=(yield y((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,B.targetID))}d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_end");if(z&&h||v){if(b("cr:19817")===null){d("sendToSentQPLLogger").markSendToSentFail(s,"MAWShareAttachmentDeferred_null");k.addMarkerPoint("MAWShareAttachmentDeferred_null","AppTiming");throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed to fetch MAWShareAttachmentDeferred")}d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_start");j=(yield b("cr:19817").load());y=j.shareSecureAttachment;d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_start");z=t===l.USS_H_SCROLL;h=(yield y(z?void 0:a,A,B,u,s,"useMWSendAttachment",k,z?x:void 0,w,o,g,e,f,q,r));if((h==null?void 0:h.success)===!1)return d("WAResultOrError").makeError(h.error);else{d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_end");return d("WAResultOrError").makeResult({report:(h==null?void 0:h.value)||{description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"},target:B})}}else try{v=(yield n.load());j=v.share;yield j(A,s);return d("WAResultOrError").makeResult({report:{description:"open message",messageType:"fixMe"},target:p})}catch(a){throw a}});return function(a){return g.apply(this,arguments)}}(),[e,f,a])}function e(){return o}function o(){b("cr:19817")==null||b("cr:19817").preload(),c("MAWVerifyThreadCutoverDeferred")==null||c("MAWVerifyThreadCutoverDeferred").preload(),c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred")==null||c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").preload(),n.preload()}g.SharingComponentType=l;g.useMWSendAttachment=a;g.useMWPreloadSendAttachmentComponents=e}),98);
__d("useCometFeedToMessengerReshareV3PushPage",["CometMessengerResharesDialogPlaceholder.react","CometMessengerResharesUpdatedDialog.entrypoint","LSMessagingThreadAttributionType","react","react-compiler-runtime","useMWSendAttachment","usePushPage","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=d("react-compiler-runtime").c(20),e=a.feedLocation,f=a.feedTracking,g=a.onClose,h=a.shareableID,k=a.sharingComponentName,l=a.storyData,m=a.url;b[0]!==m?(a={url:m},b[0]=m,b[1]=a):a=b[1];a=a;var n=j(null);a=c("usePushPage")(c("CometMessengerResharesUpdatedDialog.entrypoint"),a,"button_aggressive");var o=a[0];a=a[1];var p=a.onHoverIn,q=a.onHoverOut;a=a.onPressIn;var r=c("useShareLogger")(),s=r.onOpenBCFButtonClicked;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==s||b[6]!==o||b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==m?(r=function(){s({entry_point:e,feed_tracking:f,is_anything_shared_in_current_session:!1,shareable_entity_fbid:h,sharing_component_name:k}),o({feedLocation:e,feedTracking:f,isPushPageView:!0,onClose:g,shareableID:h,source:c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE,storyData:l,url:m},{fallback:i.jsx(c("CometMessengerResharesDialogPlaceholder.react"),{isPushPageView:!0,onClose:g})})},b[2]=e,b[3]=f,b[4]=g,b[5]=s,b[6]=o,b[7]=h,b[8]=k,b[9]=l,b[10]=m,b[11]=r):r=b[11];r=r;var t=d("useMWSendAttachment").useMWPreloadSendAttachmentComponents(),u;b[12]!==p||b[13]!==t?(u=function(a){p(a),t()},b[12]=p,b[13]=t,b[14]=u):u=b[14];u=u;b[15]!==r||b[16]!==u||b[17]!==q||b[18]!==a?(n={onClick:r,onHoverIn:u,onHoverOut:q,onPressIn:a,triggerRef:n},b[15]=r,b[16]=u,b[17]=q,b[18]=a,b[19]=n):n=b[19];return n}g["default"]=a}),98);
__d("useUpdateLinkSharingUrlMetadataMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9640324582727287"}),null);
__d("useUpdateLinkSharingUrlMetadataMutation.graphql",["useUpdateLinkSharingUrlMetadataMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBCreateOrUpdateShareUrlWrapperMetadataResponsePayload",kind:"LinkedField",name:"xfb_create_or_update_share_url_wrapper_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBShareURLWrapperMetadata",kind:"LinkedField",name:"share_url_wrapper_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useUpdateLinkSharingUrlMetadataMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useUpdateLinkSharingUrlMetadataMutation",selections:c},params:{id:b("useUpdateLinkSharingUrlMetadataMutation_facebookRelayOperation"),metadata:{},name:"useUpdateLinkSharingUrlMetadataMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useUpdateLinkSharingUrlMetadataMutation",["RelayHooks","react","react-compiler-runtime","useUpdateLinkSharingUrlMetadataMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=h!==void 0?h:h=b("useUpdateLinkSharingUrlMetadataMutation.graphql");function a(){var a=d("react-compiler-runtime").c(2),b=d("RelayHooks").useMutation(j),c=b[0];a[0]!==c?(b=function(a){var b=a.loggingMetrics,d=a.onCompleted,e=a.onError,f=a.shareSheetSurface;a=a.wrappedUrl;return c({onCompleted:d,onError:e,variables:{input:{logging_metrics:b,sharesheet_surface:f,wrapped_url:a}}})},a[0]=c,a[1]=b):b=a[1];return b}g["default"]=a}),98);